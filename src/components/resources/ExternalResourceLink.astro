---
import { resourceTypeConfig } from '../../constants/resources';
import type { ExternalResourceType } from '../../constants/resources';

interface Props {
  resourceLink?: string;
  resourceType?: ExternalResourceType;
  title?: string;
  description?: string;
}

const { 
  resourceLink, 
  resourceType, 
  title = 'Recurso Principal',
  description = 'Accede al contenido principal del recurso'
} = Astro.props;

if (!resourceLink || !resourceType) {
  return null;
}

const config = resourceTypeConfig[resourceType];
---

<div class={`mb-8 p-4 border-2 rounded-lg ${config.color}`}>
  <div class="flex items-center justify-between">
    <div class="flex items-center space-x-3">
      <span class="text-2xl">{config.icon}</span>
      <div>
        <h3 class="font-semibold text-gray-900">
          {title}: {config.label}
        </h3>
        <p class="text-sm text-gray-600">
          {description}
        </p>
      </div>
    </div>
    <a 
      href={resourceLink}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
    >
      Acceder al recurso
      <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
      </svg>
    </a>
  </div>
</div>
