---
import CalculatorLayout from "../../layouts/CalculatorLayout.astro";
import "../../styles/calculator-theme.css";
import "../../styles/tiros-calculator.css";
---

<CalculatorLayout title="Calculadora de Tiro Vertical" description="Calcula variables de movimientos de tiro vertical como altura máxima, tiempo de subida y más">
    <div class="tiro-calculator">
        <h1 class="text-header">Calculadora de Tiro Vertical</h1>

        <label for="selectVariable">Selecciona la variable a calcular:</label>
        <select id="selectVariable" class="tiro-select">
            <option value="">-- Selecciona --</option>
            <option value="h_t">Altura en t (h(t))</option>
            <option value="v_t">Velocidad en t (v(t))</option>
            <option value="h_max">Altura máxima (h_max)</option>
            <option value="t_subida">Tiempo de subida (t_subida)</option>
            <option value="t_total">Tiempo total de vuelo (t_total)</option>
            <option value="v0">Velocidad inicial (v₀)</option>
            <option value="h0">Altura inicial (h₀)</option>
            <option value="g">Gravedad (g)</option>
            <option value="t">Tiempo (t)</option>
        </select>

  <label for="selectFormula">Selecciona la fórmula:</label>
  <select id="selectFormula" class="tiro-select">
    <option value="">-- Primero selecciona variable --</option>
  </select>

  <hr class="tiro-divider">

  <div id="inputs" class="tiro-inputs">
    <div data-key="h" class="tiro-input-group" style="display:none;"><label>h (m):</label><input type="number" id="h" class="tiro-input" step="any"></div>
    <div data-key="h0" class="tiro-input-group" style="display:none;"><label>h₀ (m):</label><input type="number" id="h0" class="tiro-input" step="any"></div>
    <div data-key="h_max" class="tiro-input-group" style="display:none;"><label>hₘₐₓ (m):</label><input type="number" id="h_max" class="tiro-input" step="any"></div>
    <div data-key="v0" class="tiro-input-group" style="display:none;"><label>v₀ (m/s):</label><input type="number" id="v0" class="tiro-input" step="any"></div>
    <div data-key="vt" class="tiro-input-group" style="display:none;"><label>v(t) (m/s):</label><input type="number" id="vt" class="tiro-input" step="any"></div>
    <div data-key="t" class="tiro-input-group" style="display:none;"><label>t (s):</label><input type="number" id="t" class="tiro-input" step="any"></div>
    <div data-key="g" class="tiro-input-group" style="display:none;"><label>g (m/s²):</label><input type="number" id="g" class="tiro-input" step="any" placeholder="9.8"></div>
  </div>

  <button id="calcularBtn" class="tiro-button">Calcular</button>
  <div id="resultado" class="tiro-resultado" style="display:none;"></div>
  <script src="../../utils/calculators/mainvertical.js"></script>
  <script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
      const calcularBtn = document.getElementById('calcularBtn');
      if (calcularBtn) {
        calcularBtn.addEventListener('click', function(event) {
          // Prevenir comportamiento por defecto que podría estar causando problemas
          event.preventDefault();
          if (typeof calcular === 'function') {
            calcular();
          } else {
            console.error('La función calcular no está definida');
          }
        });
      }
    });
  </script>
    </div>
</CalculatorLayout>